<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>fannnnnn</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="php,go">
    <meta property="og:type" content="website">
<meta property="og:title" content="fannnnnn">
<meta property="og:url" content="http://lcf12307.github.io/page/2/index.html">
<meta property="og:site_name" content="fannnnnn">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="chavey Liu">
<meta property="article:tag" content="php">
<meta property="article:tag" content="go">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="fannnnnn" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">chavey Liu</h5>
          <a href="mailto:lcf12307@sina.com" title="lcf12307@sina.com" class="mail">lcf12307@sina.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/lcf12307" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">fannnnnn</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header index-header">

    <div class="container fade-scale">
        <h1 class="title">fannnnnn</h1>
        <h5 class="subtitle">
            
                
            
        </h5>
    </div>

    


</header>

<div class="container body-wrap">

    <ul class="post-list">
    
        <li class="post-list-item fade">
            <article id="post-面试/复盘/3.10腾讯面试"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-03-10 00:00:00" datetime="2020-03-09T16:00:00.000Z"  itemprop="datePublished">2020-03-10 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/03/10/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.10%E8%85%BE%E8%AE%AF%E9%9D%A2%E8%AF%95/">【面试复盘】腾讯面试</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h3 id="哪种索引的性能最好"><a href="#哪种索引的性能最好" class="headerlink" title="哪种索引的性能最好"></a>哪种索引的性能最好</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">索引的选择性是指，不重复的索引值（也称为基数）和数据表的记录总数（rows）的比值，范围从1&#x2F;rows到1之间。索引的选择性越高则查询效率越高，因为选择性高的索引可以让Mysql在查找时过滤掉更多的行。唯一索引的选择性是1，这是最好的索引选择性，性能也是最好的。而假如我们是按某个表的性别字段作为索引列，这样选择性就很低，索引效果就不是很明显。</span><br></pre></td></tr></table></figure>



<h3 id="什么时候用不到索引"><a href="#什么时候用不到索引" class="headerlink" title="什么时候用不到索引"></a>什么时候用不到索引</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">以%开头的 like 查询不能利用 B-Tree 索引，执行计划中 key 的值为 null 表示没有使用索引</span><br><span class="line">数据类型出现隐式转换的时候也不会使用索引，例如，where &#39;age&#39; 10&#x3D;30</span><br><span class="line">对索引列进行函数运算，原因同上</span><br><span class="line">正则表达式不会使用索引</span><br><span class="line">字符串和数据比较不会使用索引</span><br><span class="line">复合索引的情况下，假如查询条件不包含索引列最左边部分，即不满足最左原则 leftmost，是不会使用复合索引的</span><br><span class="line">如果 MySQL 估计使用索引比全表扫描更慢，则不使用索引</span><br><span class="line">用 or 分割开的条件，如果 or 前的条件中的列有索引，而后面的列中没有索引，那么涉及的索引都不会被用到</span><br><span class="line">使用负向查询（not ，not in， not like ，&lt;&gt; ,!&#x3D; ,!&gt; ,!&lt; ） 不会使用索引</span><br></pre></td></tr></table></figure>





<h3 id="redis-压缩列表-跳表"><a href="#redis-压缩列表-跳表" class="headerlink" title="redis 压缩列表 跳表"></a>redis 压缩列表 跳表</h3><h3 id="aof日志量过大的时候重写，瘦身"><a href="#aof日志量过大的时候重写，瘦身" class="headerlink" title="aof日志量过大的时候重写，瘦身"></a>aof日志量过大的时候重写，瘦身</h3>
    

        <a href="/2020/03/10/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.10%E8%85%BE%E8%AE%AF%E9%9D%A2%E8%AF%95/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E7%9B%98/" rel="tag">复盘</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-面试/复盘/3.2跟谁学面试"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-03-02 00:00:00" datetime="2020-03-01T16:00:00.000Z"  itemprop="datePublished">2020-03-02 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/03/02/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.2%E8%B7%9F%E8%B0%81%E5%AD%A6%E9%9D%A2%E8%AF%95/">【面试复盘】跟谁学面试</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h2 id="一面"><a href="#一面" class="headerlink" title="一面"></a>一面</h2><h3 id="grpc和thrift"><a href="#grpc和thrift" class="headerlink" title="grpc和thrift"></a>grpc和thrift</h3><h3 id="消息队列"><a href="#消息队列" class="headerlink" title="消息队列"></a>消息队列</h3><h3 id="golang-append-的原理"><a href="#golang-append-的原理" class="headerlink" title="golang append 的原理"></a>golang append 的原理</h3><h3 id="chan的底层"><a href="#chan的底层" class="headerlink" title="chan的底层"></a>chan的底层</h3><h3 id="方法interface和变量interface的区别"><a href="#方法interface和变量interface的区别" class="headerlink" title="方法interface和变量interface的区别"></a>方法interface和变量interface的区别</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">具有一组方法的类型</span><br><span class="line">interface 变量存储的是实现者的值</span><br><span class="line">interface 的重要用途就体现在函数 f 的参数中，如果有多种类型实现了某个 interface，这些类型的值都可以直接使用 interface 的变量存储。</span><br><span class="line">interface&#123;&#125; 是一个空的 interface 类型，根据前文的定义：一个类型如果实现了一个 interface 的所有方法就说该类型实现了这个 interface，空的 interface 没有方法，所以可以认为所有的类型都实现了 interface&#123;&#125;。如果定义一个函数参数是 interface&#123;&#125; 类型，这个函数应该可以接受任何类型作为它的参数。</span><br><span class="line"></span><br><span class="line">go 可以使用 comma, ok 的形式做区分 value, ok :&#x3D; em.(T)：em 是 interface 类型的变量，T代表要断言的类型，value 是 interface 变量存储的值，ok 是 bool 类型表示是否为该断言的类型 T。</span><br></pre></td></tr></table></figure>



<h3 id="【算法题】"><a href="#【算法题】" class="headerlink" title="【算法题】"></a>【算法题】</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 合并链表</span><br><span class="line">func merge(a, b *ListNode) *ListNode &#123;</span><br><span class="line">	var c *ListNode</span><br><span class="line"></span><br><span class="line">	if a !&#x3D; nil &amp;&amp; b !&#x3D; nil &#123;</span><br><span class="line">		if a.Val &gt; b.Val &#123;</span><br><span class="line">			c, b.Next, b &#x3D; b, nil, b.Next</span><br><span class="line">			b &#x3D; b.Next</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			c, a.Next, a &#x3D; a, nil, a.Next</span><br><span class="line">			a &#x3D; a.Next</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	if a !&#x3D; nil &#123;</span><br><span class="line">		if c &#x3D;&#x3D; nil &#123;</span><br><span class="line">			return a</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			c.Next &#x3D; a</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125; else if b !&#x3D; nil &#123;</span><br><span class="line">		if c &#x3D;&#x3D; nil &#123;</span><br><span class="line">			return b</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			c.Next &#x3D; b</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="二面"><a href="#二面" class="headerlink" title="二面"></a>二面</h2><h3 id="消息队列幂等性"><a href="#消息队列幂等性" class="headerlink" title="消息队列幂等性"></a>消息队列幂等性</h3><h3 id="http和tcp-和http2-0"><a href="#http和tcp-和http2-0" class="headerlink" title="http和tcp 和http2.0"></a>http和tcp 和http2.0</h3><h3 id="golang实现支持并发的单例模式"><a href="#golang实现支持并发的单例模式" class="headerlink" title="golang实现支持并发的单例模式"></a>golang实现支持并发的单例模式</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> exa *example</span><br><span class="line"><span class="keyword">var</span> mu sync.Mutex</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetInstance</span><span class="params">()</span> *<span class="title">example</span></span> &#123;</span><br><span class="line">  <span class="keyword">if</span> exa != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> exa</span><br><span class="line">  &#125;</span><br><span class="line">  mu.Lock()</span><br><span class="line">  <span class="keyword">defer</span> mu.Unlock()</span><br><span class="line">  exa = &amp;example&#123;&#125;</span><br><span class="line">  <span class="keyword">return</span> exa</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> example <span class="keyword">struct</span> &#123;</span><br><span class="line">  name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> instance *example</span><br><span class="line"><span class="keyword">var</span> once Sync.Once</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetInstance</span><span class="params">()</span> *<span class="title">example</span></span> &#123;</span><br><span class="line">  Once.Do(<span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">    instance = &amp;example&#123;&#125;</span><br><span class="line">    instance.name = <span class="string">"test"</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> instance</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




    

        <a href="/2020/03/02/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.2%E8%B7%9F%E8%B0%81%E5%AD%A6%E9%9D%A2%E8%AF%95/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E7%9B%98/" rel="tag">复盘</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-面试/复盘/3.18百度面试"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-03-01 00:00:00" datetime="2020-02-29T16:00:00.000Z"  itemprop="datePublished">2020-03-01 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/03/01/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.18%E7%99%BE%E5%BA%A6%E9%9D%A2%E8%AF%95/">【面试复盘】百度面试</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h3 id="etcd和redis"><a href="#etcd和redis" class="headerlink" title="etcd和redis"></a>etcd和redis</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数据库版本控制</span><br><span class="line"></span><br><span class="line">高可用</span><br></pre></td></tr></table></figure>


    

        <a href="/2020/03/01/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.18%E7%99%BE%E5%BA%A6%E9%9D%A2%E8%AF%95/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E7%9B%98/" rel="tag">复盘</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-面试/复盘/3.19搜狐面试"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-03-01 00:00:00" datetime="2020-02-29T16:00:00.000Z"  itemprop="datePublished">2020-03-01 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/03/01/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.19%E6%90%9C%E7%8B%90%E9%9D%A2%E8%AF%95/">【面试复盘】百度面试</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h3 id="聚簇索引和非聚簇索引的区别"><a href="#聚簇索引和非聚簇索引的区别" class="headerlink" title="聚簇索引和非聚簇索引的区别"></a>聚簇索引和非聚簇索引的区别</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">聚集索引与非聚集索引的区别是：叶节点是否存放一整行记录</span><br><span class="line"></span><br><span class="line">InnoDB 主键使用的是聚簇索引，MyISAM 不管是主键索引，还是二级索引使用的都是非聚簇索引。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">聚簇索引的优点</span><br><span class="line">1.当你需要取出一定范围内的数据时，用聚簇索引也比用非聚簇索引好。</span><br><span class="line">2.当通过聚簇索引查找目标数据时理论上比非聚簇索引要快，因为非聚簇索引定位到对应主键时还要多一次目标记录寻址,即多一次I&#x2F;O。</span><br><span class="line">3.使用覆盖索引扫描的查询可以直接使用页节点中的主键值。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.插入速度严重依赖于插入顺序，按照主键的顺序插入是最快的方式，否则将会出现页分裂，严重影响性能。因此，对于InnoDB表，我们一般都会定义一个自增的ID列为主键。</span><br><span class="line">2.更新主键的代价很高，因为将会导致被更新的行移动。因此，对于InnoDB表，我们一般定义主键为不可更新。</span><br><span class="line">3.二级索引访问需要两次索引查找，第一次找到主键值，第二次根据主键值找到行数据。二级索引的叶节点存储的是主键值，而不是行指针（非聚簇索引存储的是指针或者说是地址），这是为了减少当出现行移动或数据页分裂时二级索引的维护工作，但会让二级索引占用更多的空间。</span><br><span class="line">4.采用聚簇索引插入新值比采用非聚簇索引插入新值的速度要慢很多，因为插入要保证主键不能重复，判断主键不能重复，采用的方式在不同的索引下面会有很大的性能差距，聚簇索引遍历所有的叶子节点，非聚簇索引也判断所有的叶子节点，但是聚簇索引的叶子节点除了带有主键还有记录值，记录的大小往往比主键要大的多。这样就会导致聚簇索引在判定新记录携带的主键是否重复时进行昂贵的I&#x2F;O代价。</span><br></pre></td></tr></table></figure>



<h3 id="并发和并行"><a href="#并发和并行" class="headerlink" title="并发和并行"></a>并发和并行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">并发性(concurrency)，又称共行性，是指能处理多个同时性活动的能力，并发事件之间不一定要同一时刻发生。</span><br><span class="line">并行(parallelism)是指同时发生的两个并发事件，具有并发的含义，而并发则不一定并行。</span><br><span class="line"></span><br><span class="line">前者是逻辑上的同时发生（simultaneous），而后者是物理上的同时发生．</span><br></pre></td></tr></table></figure>


    

        <a href="/2020/03/01/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.19%E6%90%9C%E7%8B%90%E9%9D%A2%E8%AF%95/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E7%9B%98/" rel="tag">复盘</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-面试/复盘/3.1头条面试"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-03-01 00:00:00" datetime="2020-02-29T16:00:00.000Z"  itemprop="datePublished">2020-03-01 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/03/01/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.1%E5%A4%B4%E6%9D%A1%E9%9D%A2%E8%AF%95/">【面试复盘】头条面试</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h2 id="一面"><a href="#一面" class="headerlink" title="一面"></a>一面</h2><h3 id="具体的rpc调用过程"><a href="#具体的rpc调用过程" class="headerlink" title="具体的rpc调用过程"></a>具体的rpc调用过程</h3><h3 id="消息队列的使用过程"><a href="#消息队列的使用过程" class="headerlink" title="消息队列的使用过程"></a>消息队列的使用过程</h3><h3 id="如果一个事务里想要操作两个不同数据库的数据，怎么操作"><a href="#如果一个事务里想要操作两个不同数据库的数据，怎么操作" class="headerlink" title="如果一个事务里想要操作两个不同数据库的数据，怎么操作"></a>如果一个事务里想要操作两个不同数据库的数据，怎么操作</h3><h3 id="redis-分布式锁-的使用"><a href="#redis-分布式锁-的使用" class="headerlink" title="redis 分布式锁 的使用"></a>redis 分布式锁 的使用</h3><h3 id="redis-过期机制的"><a href="#redis-过期机制的" class="headerlink" title="redis 过期机制的"></a>redis 过期机制的</h3><h3 id="sql：找出一个班里的哪个年龄的人最多"><a href="#sql：找出一个班里的哪个年龄的人最多" class="headerlink" title="sql：找出一个班里的哪个年龄的人最多"></a>sql：找出一个班里的哪个年龄的人最多</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> age <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">group</span> <span class="keyword">by</span> age  <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">count</span>(age) <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>



<h3 id="算法：-给定一个数组，0i单调递增，in单调递减，其中n为数组长度，i未知。"><a href="#算法：-给定一个数组，0i单调递增，in单调递减，其中n为数组长度，i未知。" class="headerlink" title="算法： 给定一个数组，0i单调递增，in单调递减，其中n为数组长度，i未知。"></a>算法： 给定一个数组，0<del>i单调递增，i</del>n单调递减，其中n为数组长度，i未知。</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">去重后元素的个数</span><br><span class="line">input: [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">100</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">output: <span class="number">5</span></span><br><span class="line">不使用额外的空间，不改变原数组</span><br><span class="line">input: <span class="number">1</span>  <span class="number">2</span></span><br><span class="line">output: <span class="number">0</span>  <span class="number">4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findT</span><span class="params">(target <span class="keyword">int</span>, arr []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(arr) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    l, r := <span class="number">0</span>, <span class="built_in">len</span>(arr)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> l &lt;= r &#123;</span><br><span class="line">        mid := l + (r-l)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> target == arr[mid] &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125;</span><br><span class="line">        d := IsD(arr, mid)</span><br><span class="line">        <span class="keyword">if</span> d = <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> target &gt; arr[l] &amp;&amp; arr[mid] &gt; target &#123;</span><br><span class="line">                r = mid - <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                l = mid + <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> d == <span class="number">-1</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> target &lt; arr[mid] &amp;&amp; arr[r] &lt; target &#123;</span><br><span class="line">                l = mid + <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid <span class="number">-1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res := findTInArea(arr, l, mid<span class="number">-1</span>, target, <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> res != <span class="number">-1</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> res</span><br><span class="line">            &#125;</span><br><span class="line">            res = findTInArea(arr, mid+<span class="number">1</span>, r, target, <span class="number">-1</span> )</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> arr[mid] == target &#123;</span><br><span class="line">        <span class="keyword">return</span> mid</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 判断是否单调 且单调的方向</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IsD</span><span class="params">(arr []<span class="keyword">int</span>, index <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> index &gt; <span class="number">0</span> &amp;&amp; index &lt; <span class="built_in">len</span>(arr) - <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> arr[index] &gt; arr[index<span class="number">-1</span>] &amp;&amp; arr[index] &lt; arr[index + <span class="number">1</span>] &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> arr[index] &lt; arr[index<span class="number">-1</span>] &amp;&amp; arr[index] &gt; arr[index + <span class="number">1</span>] &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> index == <span class="number">0</span>  &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> index == <span class="built_in">len</span>(arr) - <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 常规二分查找</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findTInArea</span><span class="params">(arr <span class="keyword">int</span>[], l, r , target, ty <span class="keyword">int</span>)</span> <span class="title">int</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(arr) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    l, r := <span class="number">0</span>, <span class="built_in">len</span>(arr)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> l &lt;= r &#123;</span><br><span class="line">        mid = l + (r-l)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> arr[mid] == target &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="二面"><a href="#二面" class="headerlink" title="二面"></a>二面</h2><h3 id="context使用-及简单代码"><a href="#context使用-及简单代码" class="headerlink" title="context使用 及简单代码"></a>context使用 及简单代码</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WithCancel</span><span class="params">(parent Context)</span> <span class="params">(ctx Context, cancel CancelFunc)</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WithDeadline</span><span class="params">(parent Context, deadline time.Time)</span> <span class="params">(Context, CancelFunc)</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WithTimeout</span><span class="params">(parent Context, timeout time.Duration)</span> <span class="params">(Context, CancelFunc)</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WithValue</span><span class="params">(parent Context, key, val <span class="keyword">interface</span>&#123;&#125;)</span> <span class="title">Context</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Background</span><span class="params">()</span> <span class="title">Context</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	ctx, cancel := context.WithCancel(context.Background())</span><br><span class="line">	<span class="keyword">go</span> watch(ctx,<span class="string">"【监控1】"</span>)</span><br><span class="line">	<span class="keyword">go</span> watch(ctx,<span class="string">"【监控2】"</span>)</span><br><span class="line">	<span class="keyword">go</span> watch(ctx,<span class="string">"【监控3】"</span>)</span><br><span class="line"></span><br><span class="line">	time.Sleep(<span class="number">10</span> * time.Second)</span><br><span class="line">	fmt.Println(<span class="string">"可以了，通知监控停止"</span>)</span><br><span class="line">	cancel()</span><br><span class="line">	<span class="comment">//为了检测监控过是否停止，如果没有监控输出，就表示停止了</span></span><br><span class="line">	time.Sleep(<span class="number">5</span> * time.Second)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">watch</span><span class="params">(ctx context.Context, name <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		<span class="keyword">select</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> &lt;-ctx.Done():</span><br><span class="line">			fmt.Println(name,<span class="string">"监控退出，停止了..."</span>)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			fmt.Println(name,<span class="string">"goroutine监控中..."</span>)</span><br><span class="line">			time.Sleep(<span class="number">2</span> * time.Second)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="实现简单的消息队列-并说出优化方向"><a href="#实现简单的消息队列-并说出优化方向" class="headerlink" title="实现简单的消息队列 并说出优化方向"></a>实现简单的消息队列 并说出优化方向</h3><p>优化方向</p>
<ul>
<li>增加消息的容量</li>
<li>消息存入硬盘，保证高可用</li>
<li>如果消费阻塞的话，另一方面，增加消费者数目</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Producer <span class="keyword">struct</span> &#123;</span><br><span class="line">    messages [<span class="number">9</span>]<span class="keyword">chan</span> <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Consumer <span class="keyword">struct</span> &#123;</span><br><span class="line">    messages [<span class="number">9</span>]<span class="keyword">chan</span> <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Producer)</span> <span class="title">init</span><span class="params">(message [9]<span class="keyword">chan</span> <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    p.messages = message</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Producer)</span> <span class="title">send</span><span class="params">(message <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    p.messages &lt;- message</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *Consumer)</span> <span class="title">init</span> <span class="params">(message [9]<span class="keyword">chan</span> <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    c.messages = message</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *Receive)</span> <span class="title">receive</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> &lt;-c.message: </span><br><span class="line">            <span class="keyword">return</span> c.message</span><br><span class="line">        <span class="keyword">default</span>: <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">        sleep(<span class="number">100</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    message := [<span class="number">9</span>]<span class="keyword">chan</span> <span class="keyword">string</span></span><br><span class="line">    <span class="keyword">var</span> prod Producer</span><br><span class="line">    <span class="keyword">var</span> cons Consumer</span><br><span class="line">    prod.init(message)</span><br><span class="line">    cons.init(message)</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;<span class="number">100</span>;i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">            prod.send(<span class="string">"test"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    s := cons.receive()</span><br><span class="line">    fmt.Println(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="防刷的做法"><a href="#防刷的做法" class="headerlink" title="防刷的做法"></a>防刷的做法</h3><p>时间维度和ip维度</p>
<h3 id="【算法题】-k个一组-反转链表"><a href="#【算法题】-k个一组-反转链表" class="headerlink" title="【算法题】 k个一组 反转链表"></a>【算法题】 k个一组 反转链表</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="三面"><a href="#三面" class="headerlink" title="三面"></a>三面</h2><h3 id="【系统设计题】设计一个抢红包的结构"><a href="#【系统设计题】设计一个抢红包的结构" class="headerlink" title="【系统设计题】设计一个抢红包的结构"></a>【系统设计题】设计一个抢红包的结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">页面-后端</span><br><span class="line">- 长连接 </span><br><span class="line">- 短链接 </span><br><span class="line">- 每次点击时提交 or 出完结果后提交</span><br><span class="line">- API</span><br><span class="line">- Redis</span><br><span class="line">- MQ -&gt; 使用mq消费，异步，削峰，解耦</span><br></pre></td></tr></table></figure>



<h3 id="【系统设计题】-设计一个唯一ID生成器"><a href="#【系统设计题】-设计一个唯一ID生成器" class="headerlink" title="【系统设计题】 设计一个唯一ID生成器"></a>【系统设计题】 设计一个唯一ID生成器</h3><ul>
<li>int64的数字</li>
<li>唯一</li>
<li>高并发</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">雪花算法</span><br><span class="line">32位秒级时间戳+16位自增id+5位机器码</span><br><span class="line">42位毫秒级时间戳+10机器码+12bit序列号</span><br></pre></td></tr></table></figure>



<h3 id="【算法题】给定m个不重复的字符-a-b-c-d-，以及一个长度为n的字符串tbcacbdata，问能否在这个字符串中找到一个长度为m的连续子串，使得这个子串刚好由上面m个字符组成，顺序无所谓，返回任意满足条件的一个子串的起始位置，未找到返回-1。比如上面这个例子，acbd，3"><a href="#【算法题】给定m个不重复的字符-a-b-c-d-，以及一个长度为n的字符串tbcacbdata，问能否在这个字符串中找到一个长度为m的连续子串，使得这个子串刚好由上面m个字符组成，顺序无所谓，返回任意满足条件的一个子串的起始位置，未找到返回-1。比如上面这个例子，acbd，3" class="headerlink" title="【算法题】给定m个不重复的字符 [a, b, c, d]，以及一个长度为n的字符串tbcacbdata，问能否在这个字符串中找到一个长度为m的连续子串，使得这个子串刚好由上面m个字符组成，顺序无所谓，返回任意满足条件的一个子串的起始位置，未找到返回-1。比如上面这个例子，acbd，3"></a>【算法题】给定m个不重复的字符 [a, b, c, d]，以及一个长度为n的字符串tbcacbdata，问能否在这个字符串中找到一个长度为m的连续子串，使得这个子串刚好由上面m个字符组成，顺序无所谓，返回任意满足条件的一个子串的起始位置，未找到返回-1。比如上面这个例子，acbd，3</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> location [<span class="number">256</span>]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">indexOfStringNoRepeat</span><span class="params">(s <span class="keyword">string</span>, target <span class="keyword">rune</span>[])</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> location &#123;</span><br><span class="line">        location[i] = <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    rs := []<span class="keyword">rune</span>(s)</span><br><span class="line">    ma := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> target &#123;</span><br><span class="line">        ma[target] = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// shooted 目前已有的未重复字符</span></span><br><span class="line">    left, shooted := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i&lt;<span class="built_in">len</span>(rs); i++ &#123;</span><br><span class="line">        <span class="comment">// 不存在该字符</span></span><br><span class="line">        <span class="keyword">if</span> _, ok := ma[rs[i]]; !ok &#123;</span><br><span class="line">            before = left </span><br><span class="line">            left = location[rs[i]] + <span class="number">1</span></span><br><span class="line">            updateLocation(rs, before, left)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 该字符</span></span><br><span class="line">        <span class="keyword">if</span> location[rs[i]] != <span class="number">-1</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> location[rs[i]] &gt;= left &#123;</span><br><span class="line">                before = left</span><br><span class="line">                left = location[rs[i]] + <span class="number">1</span></span><br><span class="line">                shooted</span><br><span class="line">                updateLocation(rs, before, left)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            shooted ++</span><br><span class="line">            <span class="keyword">if</span> shooted == <span class="built_in">len</span>(target) &#123;</span><br><span class="line">                <span class="keyword">return</span> left</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        location[rs[i]] ++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateLocations</span><span class="params">(rs []<span class="keyword">rune</span>, l, r <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> l &lt; r &#123;</span><br><span class="line">        location[rs[l]] = <span class="number">-1</span></span><br><span class="line">        l ++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    

        <a href="/2020/03/01/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/3.1%E5%A4%B4%E6%9D%A1%E9%9D%A2%E8%AF%95/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E7%9B%98/" rel="tag">复盘</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-面试/要点整理/高频面试点"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-03-01 00:00:00" datetime="2020-02-29T16:00:00.000Z"  itemprop="datePublished">2020-03-01 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/03/01/%E9%9D%A2%E8%AF%95/%E8%A6%81%E7%82%B9%E6%95%B4%E7%90%86/%E9%AB%98%E9%A2%91%E9%9D%A2%E8%AF%95%E7%82%B9/">【第一课】高频面试点</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>排序</p>
<p>二分变形</p>
<p>递归搜索</p>
<p>二叉树遍历</p>
<p>排序可以扩展出多种排序 如堆排序 合并排序</p>
<p>go的sync包和 多线程 多协程并发控制</p>
<p>网络编程 NIO 网络模型</p>
<p>高并发系统设计， API层设计 存储设计 容灾设计 数据流 模块设计</p>

    

        <a href="/2020/03/01/%E9%9D%A2%E8%AF%95/%E8%A6%81%E7%82%B9%E6%95%B4%E7%90%86/%E9%AB%98%E9%A2%91%E9%9D%A2%E8%AF%95%E7%82%B9/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-面试/复盘/2.29腾讯面试"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-02-29 00:00:00" datetime="2020-02-28T16:00:00.000Z"  itemprop="datePublished">2020-02-29 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/02/29/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/2.29%E8%85%BE%E8%AE%AF%E9%9D%A2%E8%AF%95/">【面试复盘】腾讯面试</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h3 id="M-G-P"><a href="#M-G-P" class="headerlink" title="M G P"></a>M G P</h3><h3 id="context"><a href="#context" class="headerlink" title="context"></a>context</h3><h3 id="go对象的过程"><a href="#go对象的过程" class="headerlink" title="go对象的过程"></a>go对象的过程</h3><h3 id="算法题"><a href="#算法题" class="headerlink" title="算法题"></a>算法题</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//【气球游戏】小Q在进行射击气球的游戏，</span></span><br><span class="line"><span class="comment">// 如果小Q在连续T枪中打爆了所有颜色的气球，将得到一只QQ公仔作为奖励。</span></span><br><span class="line"><span class="comment">//（每种颜色的气球至少被打爆一只）。这个游戏中有m种不同颜色的气球，编号1到m。</span></span><br><span class="line"><span class="comment">// 小Q一共有n发子弹，然后连续开了n枪。小Q想知道在这n枪中，打爆所有颜色的气球最少用了连续几枪？</span></span><br><span class="line"><span class="comment">// 输入描述： 第一行两个空格间隔的整数数n，m。n&amp;lt;=1000000 m&amp;lt;=2000 第二行一共n个空格间隔的整数，分别表示每一枪打中的气球的颜色,0表示没打中任何颜色的气球。</span></span><br><span class="line"><span class="comment">// 输出描述： 一个整数表示小Q打爆所有颜色气球用的最少枪数。如果小Q无法在这n枪打爆所有颜色的气球，则输出-1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ma  <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">shootGame</span><span class="params">(n, m <span class="keyword">int</span>, arr []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> n &lt; m &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">	&#125;</span><br><span class="line">	ma = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)</span><br><span class="line">	min := n+<span class="number">1</span></span><br><span class="line">	<span class="comment">// t 已击中气球 s 射击数 最左数</span></span><br><span class="line">	t , s, l  := <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> _, k := <span class="keyword">range</span> arr &#123;</span><br><span class="line">		<span class="comment">// 如果气球不存在存在</span></span><br><span class="line">		<span class="keyword">if</span> _, ok := ma[k]; !ok || ma[k] == <span class="number">0</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> k != <span class="number">0</span> &#123;</span><br><span class="line">				t++</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 如果已击中气球的颜色</span></span><br><span class="line">			<span class="keyword">if</span> t == m &#123;</span><br><span class="line">				<span class="keyword">if</span> min &gt; s &#123;</span><br><span class="line">					min = s</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="comment">// 找到下一个点</span></span><br><span class="line">				ma[l] --</span><br><span class="line">				<span class="comment">// 射击气球数目为0 t--</span></span><br><span class="line">				<span class="keyword">if</span> ma[l] == <span class="number">0</span> &amp;&amp; l != <span class="number">0</span> &#123;</span><br><span class="line">					t --</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="comment">// 左移一位</span></span><br><span class="line">				l ++</span><br><span class="line">				<span class="comment">// 射击数减yi</span></span><br><span class="line">				s --</span><br><span class="line">				<span class="keyword">if</span> t==m &amp;&amp; min &gt; s &#123;</span><br><span class="line">					min = s</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 给当前数目加一</span></span><br><span class="line">		<span class="comment">// 射击数加一</span></span><br><span class="line">		ma[k] ++</span><br><span class="line">		s ++</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> min == n+<span class="number">1</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> min</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    

        <a href="/2020/02/29/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/2.29%E8%85%BE%E8%AE%AF%E9%9D%A2%E8%AF%95/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E7%9B%98/" rel="tag">复盘</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-面试/复盘/2.28滴滴面试"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-02-28 00:00:00" datetime="2020-02-27T16:00:00.000Z"  itemprop="datePublished">2020-02-28 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/02/28/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/2.28%E6%BB%B4%E6%BB%B4%E9%9D%A2%E8%AF%95/">【面试复盘】滴滴面试</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h3 id="使用非递归去二分查找一个数"><a href="#使用非递归去二分查找一个数" class="headerlink" title="使用非递归去二分查找一个数"></a>使用非递归去二分查找一个数</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// arr []</span></span><br><span class="line"><span class="comment">// arr [1]</span></span><br><span class="line"><span class="comment">// arr [1,2,3]</span></span><br><span class="line"><span class="comment">// arr [2,3,4]</span></span><br><span class="line"><span class="comment">// 3, 9999,</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findX</span><span class="params">(target <span class="keyword">int</span>, arr []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(arr) == <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 左右两个节点</span></span><br><span class="line">	l, r := <span class="number">0</span>, <span class="built_in">len</span>(arr)<span class="number">-1</span></span><br><span class="line">	<span class="keyword">var</span> mid <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> l &lt; r &#123;</span><br><span class="line">		mid = l + (r-l)/<span class="number">2</span></span><br><span class="line">		<span class="keyword">if</span> arr[mid] == target &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> arr[mid] &gt; target &#123;</span><br><span class="line">			r = mid - <span class="number">1</span></span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			l = mid + <span class="number">1</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> arr[l] == target</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="使用递归的方式-二分查找"><a href="#使用递归的方式-二分查找" class="headerlink" title="使用递归的方式 二分查找"></a>使用递归的方式 二分查找</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findX</span><span class="params">(target <span class="keyword">int</span>, arr []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> findXInArea(target, arr, <span class="number">0</span>, <span class="built_in">len</span>(right)<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findXInArea</span><span class="params">(target <span class="keyword">int</span> , arr []<span class="keyword">int</span>, left, right <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">  <span class="keyword">if</span> left &gt; right &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">  &#125;</span><br><span class="line">  mid := left + (right-left)/<span class="number">2</span></span><br><span class="line">  <span class="keyword">if</span> arr[mid] &gt; target &#123;</span><br><span class="line">    <span class="keyword">return</span> findXInArea(target, arr, left, mid - <span class="number">1</span>)</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">if</span> arr[mid] &lt; target &#123;</span><br><span class="line">    <span class="keyword">return</span> findXInArea(target, arr, mid + <span class="number">1</span>, right)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> mid</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    

        <a href="/2020/02/28/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/2.28%E6%BB%B4%E6%BB%B4%E9%9D%A2%E8%AF%95/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E7%9B%98/" rel="tag">复盘</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-面试/复盘/2.28百度面试"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-02-28 00:00:00" datetime="2020-02-27T16:00:00.000Z"  itemprop="datePublished">2020-02-28 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/02/28/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/2.28%E7%99%BE%E5%BA%A6%E9%9D%A2%E8%AF%95/">【面试复盘】映客面试</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h3 id="秒杀过程中里的远近不同影响用户的秒杀成功-解决方案"><a href="#秒杀过程中里的远近不同影响用户的秒杀成功-解决方案" class="headerlink" title="秒杀过程中里的远近不同影响用户的秒杀成功 解决方案"></a>秒杀过程中里的远近不同影响用户的秒杀成功 解决方案</h3><h3 id="http和https和http2-0-spdy"><a href="#http和https和http2-0-spdy" class="headerlink" title="http和https和http2.0 spdy"></a>http和https和http2.0 spdy</h3><h4 id="http1-0的缺点是安全不足和性能不足"><a href="#http1-0的缺点是安全不足和性能不足" class="headerlink" title="http1.0的缺点是安全不足和性能不足"></a>http1.0的缺点是安全不足和性能不足</h4><h4 id="http2-0-更安全的http，-更快的https"><a href="#http2-0-更安全的http，-更快的https" class="headerlink" title="http2.0 更安全的http， 更快的https"></a>http2.0 更安全的http， 更快的https</h4><ul>
<li>二进制传输（解析更高效）</li>
<li>header压缩</li>
<li>spdy 多路复用</li>
<li>服务器端推送</li>
<li>提高安全性 </li>
</ul>
<pre><code>- 队头阻塞
- TCP+TLS延时</code></pre><h4 id="QUIC"><a href="#QUIC" class="headerlink" title="QUIC"></a>QUIC</h4><h3 id="https"><a href="#https" class="headerlink" title="https"></a>https</h3><p>对称加密和非对称加密</p>
<h3 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h3><h3 id="http2-0-有哪些优化的方向"><a href="#http2-0-有哪些优化的方向" class="headerlink" title="http2.0 有哪些优化的方向"></a>http2.0 有哪些优化的方向</h3><p>解决队头阻塞的问题</p>
<h3 id="gopath-goroot-gobin都是什么"><a href="#gopath-goroot-gobin都是什么" class="headerlink" title="gopath goroot gobin都是什么"></a>gopath goroot gobin都是什么</h3><h3 id="命令行实现查找日志文件中的qps"><a href="#命令行实现查找日志文件中的qps" class="headerlink" title="命令行实现查找日志文件中的qps"></a>命令行实现查找日志文件中的qps</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat access.log | awk '&#123;print $2&#125;' | uniq -c</span><br></pre></td></tr></table></figure>



<h3 id="两个链表-求他们是否有公共节点-并求出他们的交点位置"><a href="#两个链表-求他们是否有公共节点-并求出他们的交点位置" class="headerlink" title="两个链表 求他们是否有公共节点 并求出他们的交点位置"></a>两个链表 求他们是否有公共节点 并求出他们的交点位置</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 求尾部唯一</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 连接ab 判断存在环</span></span><br></pre></td></tr></table></figure>




    

        <a href="/2020/02/28/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/2.28%E7%99%BE%E5%BA%A6%E9%9D%A2%E8%AF%95/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E7%9B%98/" rel="tag">复盘</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-面试/复盘/2.27映客面试"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020-02-27 00:00:00" datetime="2020-02-26T16:00:00.000Z"  itemprop="datePublished">2020-02-27 </time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/02/27/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/2.27%E6%98%A0%E5%AE%A2%E9%9D%A2%E8%AF%95/">【面试复盘】映客面试</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h3 id="访问mi-com-的过程"><a href="#访问mi-com-的过程" class="headerlink" title="访问mi.com 的过程"></a>访问mi.com 的过程</h3><h3 id="rpc的协议"><a href="#rpc的协议" class="headerlink" title="rpc的协议"></a>rpc的协议</h3><h3 id="除了pb-http怎么返回数据"><a href="#除了pb-http怎么返回数据" class="headerlink" title="除了pb http怎么返回数据"></a>除了pb http怎么返回数据</h3><p>ASCII码</p>
<h3 id="怎么保证消息队列不会重复处理"><a href="#怎么保证消息队列不会重复处理" class="headerlink" title="怎么保证消息队列不会重复处理"></a>怎么保证消息队列不会重复处理</h3><p>唯一keyid</p>
<h3 id="mysql调优-的方法"><a href="#mysql调优-的方法" class="headerlink" title="mysql调优 的方法"></a>mysql调优 的方法</h3><h3 id="使用redis来实现定时器-如果所有用户等待时间相同-或者不同"><a href="#使用redis来实现定时器-如果所有用户等待时间相同-或者不同" class="headerlink" title="使用redis来实现定时器 如果所有用户等待时间相同 或者不同"></a>使用redis来实现定时器 如果所有用户等待时间相同 或者不同</h3><ul>
<li>list  rpush lpop</li>
<li>zset zrangebyscore key min max</li>
</ul>
<h3 id="mysql-主库写入还没有更新到读库的时候-怎么保证读的数据是最新的"><a href="#mysql-主库写入还没有更新到读库的时候-怎么保证读的数据是最新的" class="headerlink" title="mysql 主库写入还没有更新到读库的时候 怎么保证读的数据是最新的"></a>mysql 主库写入还没有更新到读库的时候 怎么保证读的数据是最新的</h3>
    

        <a href="/2020/02/27/%E9%9D%A2%E8%AF%95/%E5%A4%8D%E7%9B%98/2.27%E6%98%A0%E5%AE%A2%E9%9D%A2%E8%AF%95/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E7%9B%98/" rel="tag">复盘</a></li></ul>

    </div>
    
</article>

        </li>
    
    </ul>

    
<nav id="page-nav">
    <div class="inner">
    <a class="extend prev" rel="prev" href="/">上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/3/">下一页</a>
    </div>
</nav>


</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>chavey Liu &copy; 2020 - 2021</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://lcf12307.github.io/page/2/&title=fannnnnn&pic=http://lcf12307.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://lcf12307.github.io/page/2/&title=fannnnnn&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://lcf12307.github.io/page/2/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=fannnnnn&url=http://lcf12307.github.io/page/2/&via=http://lcf12307.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://lcf12307.github.io/page/2/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABx0lEQVR42u3aQY7CMAwFUO5/6c4WiSH9jpu0SC8rhGj6wsJybL9e8Tre1uf33z5//v7bsxcvXFzcNvcYroSV7DY+fGLAxcXdzx0HmnFgGh8y3z8Kdri4uI/kJolOHuxwcXF/ndsPXri4uL/FTS4/+WUmefHyuxouLm6Dm1cp131eUt/FxcWd4h5Tq5+4zL0dFxd3D7cadJIWS5IG5enUP8fGxcVdzK1uWk168qNGzRtcXNyN3PFjnZZJngBFiRQuLu4WbqfwUW6BFP+mkz8CFxf3Vm7ygrm2R84tBDJcXNw2NxmbyL/Pr1J5WDyp3+Di4i7jVinVQYq5YayTORFcXNwt3OThucLoZfUNXFzcjdz+eNZJAArSnejAuLi4N3GrIxd54Js7cNQTxsXFvZSbh5jxdvllqVNkwcXF3cPNixSdi1A+ulG4/ODi4i7jjgNZ9XLSGdsqBFZcXNzF3KO4rm2clC9XuLi4W7jVUml/5KJaIsHFxb2Lmwev5PsqMd8TFxd3P7fTUp0rts41Y3BxcZ/GrRZE8iZKIRfDxcV9GHduDKu6Q6HViouLu5h77eUnL7WU2zC4uLhbuP2tq2nQXDKEi4u7hfsHDd3dRDdBA9gAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '等你回来！';
            clearTimeout(titleTime);
        } else {
            document.title = '欢迎回来!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
